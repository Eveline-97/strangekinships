<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>strange kinships</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="./assets/css/mobile.css">
    <link rel="icon" href="./assets/img/head.svg">
</head>

<body>

    <header>
        <h1 id="logo">strange kinships</h1>
        <nav>
            <ul>
                <li><a href="./chapters.html">Chapters</a></li>
                <li><a id="show-map">Show map</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div id="overlay"></div>
        <div id="map-container">
            <img src="./assets/img/map.png">
            <!--button id="close">x</button-->
        </div>
        <div class="chapter">
            <div id="waveform">
            </div>
            <div id="audio-controls">
                <button id="play">⏵</button>
                <button id="stop">⏹</button>
            </div>
            <div class="chapter-buttons">
                <button id="previous"><< Previous chapter</button>
                <button id="next">Next chapter >></button>
            </div>
            <div class="transcript popup">
                <h3 class="pop">Transcript <span class="arrow">&rArr;</span></h3>
                <div id="transcript-text" class="poppy">
                    <h3>Strange Kinships - First Chapter: Introduction</h3>
                    <p>
                        When the Landesbibliothek in Stuttgart moved to its new building, some old books were given away
                        for
                        free. Among outdated schoolbooks, classic novels, and worn cookbooks, a heavy old volume titled
                        Treatise
                        of the Common Pigeon caught our attention. It was accompanied by dusty audio tapes and contained
                        hundreds of pages of handwritten notes, drawings, and diagrams - created by a group of
                        researchers
                        from
                        the 1860s. As the title suggests, Strange Kinships (the name of the group) were devoted to
                        observing
                        and
                        understanding the birds we see in cities every day: how they move, how they communicate, how
                        they
                        fly.
                    </p>
                    <p>
                        While we don’t really know who the members of this group were, in this audio walk we would like
                        to
                        offer
                        insights into a fascinating document of a group of humans trying to get close to another
                        species’
                        internal world. As you listen to our audio walk, you’ll catch glimpses of the group’s (sometimes
                        surprising) research - while observing the pigeons around you.
                    </p>
                    <p>
                        There are four short audio tracks to listen to, each located at a different point on and around
                        Marienplatz, shown on the map we’ve provided.
                        You can begin the walk now by scanning the QR code of Track number “2” and listen as you slowly
                        make
                        your way toward location 3.
                    </p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 <a href="https://evelinevervliet.com">Eveline Vervliet</a></p>
        <script src="./assets/js/script.js"></script>

        <script type="module">
            import WaveSurfer from 'https://cdn.jsdelivr.net/npm/wavesurfer.js@7/dist/wavesurfer.esm.js'

            const wavesurfer = WaveSurfer.create({
                container: '#waveform',
                waveColor: 'rgb(252, 255, 94)',
                progressColor: 'black',
                url: './assets/audio/test.wav',
            })

            const play = document.getElementById('play');
            play.onclick = () => togglePlay();
            document.getElementById('stop').onclick = () => {
                wavesurfer.stop();
                play.innerHTML = '⏵';
                curr = 'play';
            }

            let curr = 'play';
            const togglePlay = () => {
                if (curr == 'play') {
                    wavesurfer.play();
                    play.innerHTML = '⏸';
                    curr = 'pause';
                } else {
                    wavesurfer.pause();
                    play.innerHTML = '⏵';
                    curr = 'play';
                }
            }

            wavesurfer.on('interaction', () => {
                wavesurfer.pause();
                play.innerHTML = '⏵';
                curr = 'play';
            })
        </script>
    </footer>

</body>

</html>